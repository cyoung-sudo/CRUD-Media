<div class="container">
  <div class="row">
    <div class="col-md-6 col-12">
      <div class="header shadow-lg"><h2 class="text-center"><%= @post.title %></h2>
        <div class="posts shadow-lg">
          <p><%= @post.description %></p>
          <p>Created by: <%= @post.user.first_name %> <%= @post.user.last_name %></p>
          <% if current_user == @post.user %>
            <%= link_to "Edit", edit_post_path(@post) %>
            <%= link_to 'Delete', post_path(@post), method: :delete, data: {confirm: "Are you sure you want to delete this post?"} %>
          <% end %>

          <h2>Likes</h2>
          <p><%= @post.likes.count %></p>
          <% if current_user.liked.include?(@post) %>
            <%= link_to "Unlike", unlike_post_path(@post), method: :post %>
          <% else %>
            <%= link_to "Like", like_post_path(@post), method: :post %>
          <% end %>

          <h2>Tags</h2>
          <% if current_user == @post.user %>
            <%= link_to "Add Tag", new_tag_path(:post_id => @post) %>
          <% end %>
          <% @post.tags.each do |tag| %>
            <span><%= tag.content %></span>
            <% if current_user == @post.user %>
              <%= link_to 'Delete', tag_path(tag), method: :delete, data: {confirm: "Are you sure you want to delete this tag?"} %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-12">
      <div class="header shadow-lg"><h2 class="text-center">Comments</h2>
        <div class="posts shadow-lg">
          <%= link_to "Add Comment", new_comment_path(:post_id => @post) %>
          <ul>
            <hr>
            <% @post.comments.each do |comment| %>
              <li><strong><%= comment.user.first_name %> <%= comment.user.last_name %></strong></li>
              <li><%= comment.content %></li>
              <% if current_user == comment.user %>
                <%= link_to "Edit", edit_comment_path(comment) %>
                <%= link_to 'Delete', comment_path(comment), method: :delete, data: {confirm: "Are you sure you want to delete this comment?"} %>
              <% end %>
              <hr>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>